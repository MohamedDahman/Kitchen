!function(t,n,i,e){"use strict";var o,s="emotionsRating",a={bgEmotion:"happy",emotionsCollection:["angry","disappointed","meh","happy","inLove"],count:5,color:"#d0a658;",emotionSize:30,inputName:"rating",emotionOnUpdate:null},r={angry:"&#x1F620;",disappointed:"&#x1F61E;",meh:"&#x1F610;",happy:"&#x1F60A;",smile:"&#x1F603;",wink:"&#x1F609;",laughing:"&#x1F606;",inLove:"&#x1F60D;",heart:"&#x2764;",crying:"&#x1F622;",star:"&#x2B50;"},h=!1;function c(n,i){this.element=n,this.settings=t.extend({},a,i),this.$el=t(n),this.$el.data(name,this),this._defaults=a,this._name=s;var e=this.$el.data(name+"-opts");this.opts=t.extend(this._defaults,i,e),this.init()}t.extend(c.prototype={init:function(){o=t(this.element),this.count=0,this.emotionStyle(),this.renderEmotion(),this.manageHover(),this.manageClick()},emotionStyle:function(){var t=".emotion-style{margin-right:3px;border-radius: 50%;cursor:pointer;opacity:0.3;display: inline-block;font-size:"+this.settings.emotionSize+"px; text-decoration:none;line-height:0.9;text-align: center;color:"+this.settings.color+"}";o.append("<style>"+t+"</style>")},renderEmotion:function(){for(var t=this.settings.count,n=r[this.settings.bgEmotion],i="<div class='emotion-container'>",e=0;e<t;e++)i+="<div class='emotion-style' data-index='"+e+"'>"+n+"</div>";i+="</div>",o.append(i)},clearEmotion:function(n){o.find(".emotion-style").each(function(){t(this).css("opacity",.3);var i=r[n];t(this).html(i)})},showEmotion:function(t){this.clearEmotion(this.settings.bgEmotion);for(var n=l(this.settings.emotions,t),i=0;i<t;i++)o.find(".emotion-style").eq(i).css("opacity",1),o.find(".emotion-style").eq(i).html(n)},manageHover:function(){var n=this;o.on({mouseenter:function(){var i=parseInt(t(this).data("index"),10)+1;h||n.showEmotion(i)},mouseleave:function(){h||n.clearEmotion()}},".emotion-style")},manageClick:function(){var n=this;o.on("click",".emotion-style",function(){var i=t(this).data("index"),e=parseInt(i,10)+1;n.showEmotion(e),n.count=e,h?n.updateInput(e):(n.appendInput(e),h=!0),t.isFunction(n.settings.onUpdate)&&n.settings.onUpdate.call(n,e)})},appendInput:function(t){var n="<input type='hidden' class='emoji-rating' name='"+this.settings.inputName+"' value='"+t+"' />";o.append(n)},updateInput:function(t){o.find("input.emoji-rating").val(t)}}),t.fn[s]=function(n){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new c(this,n))})};var l=function(t,n){return 1==t.length?r[t[0]]:r[t[n-1]]}}(jQuery,document,window);